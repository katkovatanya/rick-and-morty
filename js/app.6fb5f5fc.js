(function(){"use strict";var e={5721:function(e,t,a){var n=a(3751),r=a(375),o=a(33);const s={class:"search"},i={key:1},c={class:"page__wrapper"},l=["onClick"];function d(e,t,a,n,d,u){const p=(0,r.g2)("app-banner"),v=(0,r.g2)("my-input"),f=(0,r.g2)("my-select"),h=(0,r.g2)("card-list");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(p),(0,r.Lk)("div",s,[(0,r.bF)(v,{modelValue:d.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>d.searchQuery=e),placeholder:"Поиск..."},null,8,["modelValue"]),(0,r.bF)(f,{modelValue:d.selectedSort,"onUpdate:modelValue":t[1]||(t[1]=e=>d.selectedSort=e),options:d.sortOptions},null,8,["modelValue","options"])]),d.isCardsLoading?((0,r.uX)(),(0,r.CE)("div",i,"Идёт загрузка...")):((0,r.uX)(),(0,r.Wv)(h,{key:0,cards:u.sortedAndSearchingCards},null,8,["cards"])),(0,r.Lk)("div",c,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.visiblePages,(e=>((0,r.uX)(),(0,r.CE)("div",{class:(0,o.C4)({page:"number"===typeof e,"current-page":d.page===e}),key:e,onClick:t=>"number"===typeof e?u.changePage(e):null},(0,o.v_)(e),11,l)))),128))])])}a(4114);const u={class:"card-list"};function p(e,t,a,n,o,s){const i=(0,r.g2)("card-item");return(0,r.uX)(),(0,r.CE)("div",u,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.cards,(e=>((0,r.uX)(),(0,r.Wv)(i,{key:e.id,card:e},null,8,["card"])))),128))])}const v={class:"card"},f=["src","alt"],h={class:"card__text"},m={class:"card__title"},g={class:"card__status"},y={class:"card__subtitle"};function b(e,t,a,n,s,i){const c=(0,r.g2)("card-info");return(0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("img",{src:a.card.image,alt:a.card.name},null,8,f),(0,r.Lk)("div",h,[(0,r.Lk)("div",null,[(0,r.Lk)("h2",m,(0,o.v_)(a.card.name),1),(0,r.Lk)("div",g,[(0,r.Lk)("div",{class:(0,o.C4)(["status__icon",{status__icon__alive:"Alive"===a.card.status}])},null,2),(0,r.Lk)("div",y,(0,o.v_)(a.card.status)+" - "+(0,o.v_)(a.card.species),1)])]),(0,r.bF)(c,{isLocation:!0,card:a.card},null,8,["card"]),(0,r.bF)(c,{isLocation:!1,card:a.card},null,8,["card"])])])}const _={key:0,class:"info"},C=(0,r.Lk)("div",{class:"info-title"},"Last known location:",-1),k={class:"info-body"},L={key:1,class:"info"},O=(0,r.Lk)("div",{class:"info-title"},"First seen in:",-1),E={class:"info-body"};function X(e,t,a,n,s,i){return a.isLocation?((0,r.uX)(),(0,r.CE)("div",_,[C,(0,r.Lk)("div",k,(0,o.v_)(a.card.location.name),1)])):((0,r.uX)(),(0,r.CE)("div",L,[O,(0,r.Lk)("div",E,(0,o.v_)(a.card.episode[0]),1)]))}var A={props:{card:{type:Object,required:!0},isLocation:{type:Boolean,required:!0}}},P=a(4621);const w=(0,P.A)(A,[["render",X]]);var S=w,I={components:{CardInfo:S},props:{card:{type:Object,required:!0}}};const V=(0,P.A)(I,[["render",b],["__scopeId","data-v-c7f1db0c"]]);var j=V,F={components:{CardItem:j},props:{cards:{type:Array,required:!0}}};const x=(0,P.A)(F,[["render",p],["__scopeId","data-v-b074b258"]]);var M=x;const q={class:"card-list__title"};function Q(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("h1",q,"Rick and Morty")}var T={};const K=(0,P.A)(T,[["render",Q],["__scopeId","data-v-a97bed4c"]]);var B=K,U=a(4335),W={name:"App",components:{CardList:M,AppBanner:B},data(){return{cards:[],isCardsLoading:!1,selectedSort:"",searchQuery:"",page:1,limit:10,totalPages:0,sortOptions:[{value:"name",name:"По имени"},{value:"status",name:"По статусу"}]}},methods:{changePage(e){this.page=e},async fetchCards(){try{this.isCardsLoading=!0;const e=await U.A.get("https://rickandmortyapi.com/api/character",{params:{page:this.page,limit:this.limit}});console.log(e),this.totalPages=e.data.info.pages,this.cards=e.data.results}catch(e){alert("Ошибка")}finally{this.isCardsLoading=!1}}},mounted(){this.fetchCards()},computed:{sortedCards(){return[...this.cards].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort])))},sortedAndSearchingCards(){return this.sortedCards.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())))},visiblePages(){const e=3,t=3,a=2,n="...";let r=[];for(let o=1;o<=this.totalPages;o++)o<=e||o>this.totalPages-e||o>=Math.floor(this.totalPages/2)&&o<Math.floor(this.totalPages/2)+t||o>=this.page-a&&o<=this.page+a?r.push(o):o!==e+1&&o!==Math.floor(this.totalPages/2)+t&&o!==this.page-a-1&&o!==this.page+a+1||r.push(n);return r=r.filter(((e,t,a)=>"number"===typeof e||"string"===typeof e&&"number"===typeof a[t+1])),r}},watch:{page(){this.fetchCards()}}};const $=(0,P.A)(W,[["render",d]]);var N=$;const R=["v-model"],z=(0,r.Lk)("option",{disabled:"",value:""},"Сортировка",-1),D=["value"];function G(e,t,a,n,s,i){return(0,r.uX)(),(0,r.CE)("select",{class:"select","v-model":a.modelValue,onChange:t[0]||(t[0]=(...e)=>i.cangeOption&&i.cangeOption(...e))},[z,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.options,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.value,value:e.value},(0,o.v_)(e.name),9,D)))),128))],40,R)}var H={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{cangeOption(e){this.$emit("update:modelValue",e.target.value)}}};const J=(0,P.A)(H,[["render",G]]);var Y=J;const Z=["value"];function ee(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("input",{value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>s.updateInput&&s.updateInput(...e)),class:"input",type:"text"},null,40,Z)}var te={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const ae=(0,P.A)(te,[["render",ee],["__scopeId","data-v-7f6ae8c3"]]);var ne=ae,re=[Y,ne];const oe=(0,n.Ef)(N);re.forEach((e=>{oe.component(e.name,e)})),oe.mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],i=n[1],c=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var d=c(a)}for(t&&t(n);l<s.length;l++)o=s[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self["webpackChunkrick_and_morty"]=self["webpackChunkrick_and_morty"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(5721)}));n=a.O(n)})();
//# sourceMappingURL=app.6fb5f5fc.js.map