(function(){"use strict";var e={656:function(e,t,a){var n=a(3751),r=a(375);const o={class:"search"},s={key:1};function i(e,t,a,n,i,c){const l=(0,r.g2)("app-banner"),d=(0,r.g2)("my-input"),u=(0,r.g2)("my-button"),p=(0,r.g2)("my-select"),f=(0,r.g2)("card-list"),g=(0,r.g2)("app-pagination");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l),(0,r.Lk)("div",o,[(0,r.bF)(d,{modelValue:i.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),placeholder:"Поиск..."},null,8,["modelValue"]),(0,r.bF)(u,{onClick:c.fetchCards},{default:(0,r.k6)((()=>[(0,r.eW)("Искать на всех страницах")])),_:1},8,["onClick"]),(0,r.bF)(p,{modelValue:i.selectedSort,"onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedSort=e),options:i.sortOptions},null,8,["modelValue","options"])]),i.isCardsLoading?((0,r.uX)(),(0,r.CE)("div",s,"Идёт загрузка...")):((0,r.uX)(),(0,r.Wv)(f,{key:0,cards:c.sortedAndSearchingCards},null,8,["cards"])),(0,r.bF)(g,{page:i.page,totalPages:i.totalPages,onChangePage:c.changePage},null,8,["page","totalPages","onChangePage"])])}function c(e,t,a,o,s,i){const c=(0,r.g2)("card-item");return(0,r.uX)(),(0,r.Wv)(n.F,{tag:"div",class:"card-list",name:"list",appear:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.cards,(e=>((0,r.uX)(),(0,r.Wv)(c,{key:e.id,card:e},null,8,["card"])))),128))])),_:1})}var l=a(33);const d={class:"card"},u=["src","alt"],p={class:"card__text"},f={class:"card__title"},g={class:"card__status"},v={class:"card__subtitle"};function h(e,t,a,o,s,i){const c=(0,r.g2)("card-info");return(0,r.uX)(),(0,r.Wv)(n.eB,{name:"card",appear:""},{default:(0,r.k6)((()=>[(0,r.Lk)("div",d,[(0,r.Lk)("img",{src:a.card.image,alt:a.card.name},null,8,u),(0,r.Lk)("div",p,[(0,r.Lk)("div",null,[(0,r.Lk)("h2",f,(0,l.v_)(a.card.name),1),(0,r.Lk)("div",g,[(0,r.Lk)("div",{class:(0,l.C4)(["status__icon",{status__icon__alive:"Alive"===a.card.status}])},null,2),(0,r.Lk)("div",v,(0,l.v_)(a.card.status)+" - "+(0,l.v_)(a.card.species),1)])]),(0,r.bF)(c,{isLocation:!0,card:a.card},null,8,["card"]),(0,r.bF)(c,{isLocation:!1,card:a.card},null,8,["card"])])])])),_:1})}const m={key:0,class:"info"},y=(0,r.Lk)("div",{class:"info-title"},"Last known location:",-1),b={class:"info-body"},C={key:1,class:"info"},_=(0,r.Lk)("div",{class:"info-title"},"First seen in:",-1),k={class:"info-body"};function L(e,t,a,n,o,s){return a.isLocation?((0,r.uX)(),(0,r.CE)("div",m,[y,(0,r.Lk)("div",b,(0,l.v_)(a.card.location.name),1)])):((0,r.uX)(),(0,r.CE)("div",C,[_,(0,r.Lk)("div",k,(0,l.v_)(o.episodeName),1)]))}var P=a(4335),O={props:{card:{type:Object,required:!0},isLocation:{type:Boolean,required:!0}},data(){return{episodeName:""}},created(){this.fetchEpisodeName()},methods:{fetchEpisodeName(){P.A.get(this.card.episode[0]).then((e=>{this.episodeName=e.data.name})).catch((e=>{console.error(e)}))}}},A=a(4621);const E=(0,A.A)(O,[["render",L]]);var X=E,w={components:{CardInfo:X},props:{card:{type:Object,required:!0}}};const I=(0,A.A)(w,[["render",h],["__scopeId","data-v-147b864c"]]);var S=I,F={components:{CardItem:S},props:{cards:{type:Array,required:!0}}};const V=(0,A.A)(F,[["render",c],["__scopeId","data-v-688d7c8e"]]);var j=V;const x={class:"title"};function M(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("h1",x,"Rick and Morty")}var N={};const Q=(0,A.A)(N,[["render",M],["__scopeId","data-v-06f519f9"]]);var W=Q;const q={class:"page__wrapper"},T=["onClick"];function $(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("div",q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.visiblePages,(e=>((0,r.uX)(),(0,r.CE)("div",{class:(0,l.C4)({page:"number"===typeof e,"current-page":a.page===e}),key:e,onClick:t=>"number"===typeof e?s.changePage(e):null},(0,l.v_)(e),11,T)))),128))])}a(4114);var B={props:["page","totalPages"],methods:{changePage(e){this.$emit("change-page",e)}},computed:{visiblePages(){const e=3,t=3,a=2,n="...";let r=[];for(let o=1;o<=this.totalPages;o++)o<=e||o>this.totalPages-e||o>=Math.floor(this.totalPages/2)&&o<Math.floor(this.totalPages/2)+t||o>=this.page-a&&o<=this.page+a?r.push(o):o!==e+1&&o!==Math.floor(this.totalPages/2)+t&&o!==this.page-a-1&&o!==this.page+a+1||r.push(n);return r=r.filter(((e,t,a)=>"number"===typeof e||"string"===typeof e&&"number"===typeof a[t+1])),r}}};const K=(0,A.A)(B,[["render",$],["__scopeId","data-v-3004dab1"]]);var R=K,U={name:"App",components:{CardList:j,AppBanner:W,AppPagination:R},data(){return{cards:[],isCardsLoading:!1,selectedSort:"",searchQuery:"",page:1,limit:10,totalPages:0,sortOptions:[{value:"name",name:"По имени"},{value:"status",name:"По статусу"}]}},methods:{changePage(e){this.page=e},async fetchCards(){try{this.isCardsLoading=!0;const e=await P.A.get("https://rickandmortyapi.com/api/character",{params:{page:this.page,limit:this.limit,name:this.searchQuery}});console.log(e),this.totalPages=e.data.info.pages,this.cards=e.data.results}catch(e){alert("Ошибка")}finally{this.isCardsLoading=!1}}},mounted(){this.fetchCards()},computed:{sortedCards(){return[...this.cards].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort])))},sortedAndSearchingCards(){return this.sortedCards.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())))}},watch:{page(){this.fetchCards()}}};const G=(0,A.A)(U,[["render",i]]);var z=G;const D=["v-model"],H=(0,r.Lk)("option",{disabled:"",value:""},"Сортировка",-1),J=["value"];function Y(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("select",{class:"select","v-model":a.modelValue,onChange:t[0]||(t[0]=(...e)=>s.cangeOption&&s.cangeOption(...e))},[H,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.options,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.value,value:e.value},(0,l.v_)(e.name),9,J)))),128))],40,D)}var Z={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{cangeOption(e){this.$emit("update:modelValue",e.target.value)}}};const ee=(0,A.A)(Z,[["render",Y]]);var te=ee;const ae=["value"];function ne(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("input",{value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>s.updateInput&&s.updateInput(...e)),class:"input",type:"text"},null,40,ae)}var re={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const oe=(0,A.A)(re,[["render",ne],["__scopeId","data-v-74ffd38a"]]);var se=oe;const ie={class:"btn"};function ce(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("button",ie,[(0,r.RG)(e.$slots,"default")])}var le={name:"my-button"};const de=(0,A.A)(le,[["render",ce]]);var ue=de,pe=[te,se,ue];const fe=(0,n.Ef)(z);pe.forEach((e=>{fe.component(e.name,e)})),fe.mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],i=n[1],c=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var d=c(a)}for(t&&t(n);l<s.length;l++)o=s[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self["webpackChunkrick_and_morty"]=self["webpackChunkrick_and_morty"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(656)}));n=a.O(n)})();
//# sourceMappingURL=app.ac70d6d4.js.map